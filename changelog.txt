SensorFleet software changelog

1.2.1, Instrument bugfix release, staging 2020-06-17
- Fixed an issue where PassiveDNS retention/age checks lead into TimeoutError
- Fixed an issue where Suricata generates null interface name to config
- Fixed an issue where hardware offloads might cause some traffic to not get mirrored for capture interfaces
- Fixed an issue where Suricata fails to start with configuration related NoneType is not iterable exception
- Fixes an issue where getting pcaps older than 1 hour from the recorder API was not possible
- Feature: Suricata instrument now has AF-packet options configurable
- Feature: Make capture-plugin delay configurable
- Feature: Include exporter_id API endpoint for Event Exporter Instrument
- Optimization: Add debug symbols to suricata instrument
- Optimization: Enable SSSE3, SSE4.1, SSE4.2 for suricata instrument
- Optimization: Recorder ruleset handling optimizations
- Optimization: Raise default Capture Engine threads to 16 from 8
- Optimization: Clear rules from /var/lib/suricata/rules
- Optimization: Optimize Recorder Instrument capture-plugin filtering
- Upgrade Suricata to 5.0.3

1.2.0, staging 2020-05-08, beta 2020-05-18
- Fixed an issue where LXD daemon would leak memory. High impact on sensors that have low RAM spec. Updated LXD to 4.0.
- Fixed an issue where Sensor/FM UI performs slowly on a sensor with lot of instruments
- Fixed an issue where Rule importer cannot receive >1MB blacklists via push method
- Fixed an issue where Downloader does not start download job when started with existing configuration
- Fixed an issue where FM/Sensor configuration goes out of sync (version conflict)
- Fixed an issue where watchdog terminates Sensor Orchestrator when installing APT packages on a slow connection
- Fixed an issue where pylxd would spam "Not Found" in Sensor Orchestrator logs
- Fixed an issue where Zeek displays error status for a moment after starting
- Fixed an issue where Zeek binary makes log files in the working directory
- Fixed an issue where software upgrade UI stucks if error in getting packagelist
- Fixed an issue where UI frontend script crashed: cannot handle null json
- Fixed an issue where Software update UI would display "available version: null"
- Feature: Sensor Orchestrator enforces rx/tx contracts filtering requirements
- Feature: Instrument friendly name defaults to the one from metadata.json
- Feature: Zeek events now have messages
- Feature: Optimized Capture Engine CPU usage
- Feature: Downloader now has support for custom HTTP headers (editable in the UI)
- Feature: Sensor/FM UI can now edit instrument configurations (for instruments that have a JSON Schema and editable configuration).
  UI configurable instruments:
  Suricata, Zeek, Capture Engine, PortDiff, PassiveDNS, Cowrie
- Feature: SensorFu beacon instrument (requires access to SensorFu Home)
- Change: Capture Engine binary is no longer configurable in config schema
- Other reliablity fixes, internal API changes and features

Upgrade notes:
- A major upgrade. Proceed with caution on production Sensors.
- LXD will be upgraded using canonical Snap repackaged by SensorFleet in a debian package.
